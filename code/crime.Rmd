---
title: "Crime Data (2017-2019, County Level)"
author: "Fanmei Xia"
date: "04/22/2021"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
```


```{r NJ, message=FALSE, warning=FALSE}
# Read in the crime data from 2017 - 2019
crime_17 <- read.csv("crime_data_2017.csv")
crime_1819 <- read.csv("crime_data_2018-2019.csv")

```

```{r, message=FALSE, warning=FALSE}
sum_17 <- crime_17 %>%
  filter(Population == "") %>%
  group_by(CountyFIPS, County) %>%
  summarise(Co_tot = sum(Total), 
            Year = "2017")

sum_1819 <- crime_1819 %>%
  group_by(CountyFIPS, County, Year) %>%
  summarise(Co_tot = sum(Total))
sum_1819$Year <- as.character(sum_1819$Year)
            
# Create one dataset that has all three years' data
crime <- bind_rows(sum_17, sum_1819) %>%
  arrange(CountyFIPS)

```

```{r}
#write_csv(crime, file = "crime_county.csv")
read.csv("crime_county.csv")
```

```{r}
crime %>%
  ggplot(aes(x=County, y = Co_tot, color = Year)) +
  geom_point() +
    theme_classic() +
    labs(
        x = "County",
        y = "Total Crime Incidents",
        title = paste(
            "Crime Data by County"
        ) 
    ) +
  coord_flip()
```
