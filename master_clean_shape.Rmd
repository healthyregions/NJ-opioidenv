---
title: "master_clean_shape"
author: "Fanmei Xia"
date: "2/12/2021"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{R, warning = F, error = F}
library(tidyverse)
library(tidylog)
library(sf)
library(tmap)
 
path <- "/Users/xiafm/Documents/GitHub/NJ-opioidenv/data_final/"
master_clean <- read.csv(paste0(path, "master_clean.csv"), colClasses = c("SSN" = "character"))

mun <- st_read("data_in_progress/mun_boundaries.geojson") %>%
  select(SSN) 

master_shape <- left_join(master_clean, mun) %>%
  st_as_sf()

```

```{r, warning = F, error = F}
col_names <- colnames(master_shape)
col_names <- col_names[c(5, 10:21, 23:29, 39:41)]
print(col_names)

make_map <- function(col_name) {
  tm_shape(master_shape) + tm_fill(col = col_name, style = "jenks") + tm_borders(alpha = .15)
}
maps <- lapply(col_names, make_map)
```
